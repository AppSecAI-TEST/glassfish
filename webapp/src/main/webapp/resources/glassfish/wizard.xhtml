<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://java.sun.com/jsf/composite"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">

    <!-- INTERFACE -->
    <cc:interface>
        <cc:attribute name="title" required="false" type="java.lang.String"/>
        <cc:attribute name="currentStep" required="true" type="java.lang.Integer"/>
        <cc:attribute name="stepLabels" required="true" type="java.util.List"/>
        <cc:attribute name="stepPages" required="true" type="java.util.List"/>
    </cc:interface>

    <!-- IMPLEMENTATION -->
    <cc:implementation>
        <style type="text/css">
            .wizard {
                position: absolute;
                top: 35px;
                left: 0px;
                right: 0px;
                bottom: 0px; 
                border: 1px solid #014081; 
                margin: 7px; 
                overflow: hidden;
            }

            .wizardHeader {
                font-weight: bold; 
                font-size: larger; 
                padding: 7px; 
                background-color: #014081; 
                color: #ffffff; 
                height: 18px
            }

            .wizardNav {
                width: 150px; 
                height: 100%;
                float: left;
                /*
                position: relative;
                left: 0px;
                top: 0px;
                bottom: 0px; 
                */
                font-size: large; 
                margin-right: 7px; 
                border-right: 1px solid #014081;
                background-image: url('#{request.contextPath}/images/dbcc.png') repeat-x;
                background-color: #0C87D1; 
                color: #ffffff; 
            }

            .wizardBody {
                /*
                position: absolute;
                top: 18px;
                left: 150px;
                bottom: 0px;
                right: 0px;
                */
            }
        </style>
        <div id="#{cc.clientId}" class="topRightRounded bottomRightRounded topLeftRounded bottomLeftRounded wizard" >
            <div class="wizardHeader">
                #{empty cc.attrs.title ? 'Wizard Title' : cc.attrs.title}
            </div>
            <div id="#{cc.clientId}_nav" class="wizardNav">
                <table width="100%">
                    <ui:repeat var="label" value="#{cc.attrs.stepLabels}" varStatus="status">
                        <tr>
                            <td>
                                <h:outputText rendered="#{status.index == cc.attrs.currentStep}" style="font-weight: bold" value="*"/>
                            </td>
                            <td>
                                <h:outputText rendered="#{status.index == cc.attrs.currentStep}" style="font-weight: bold" value="#{label}"/>
                                <h:outputText rendered="#{status.index != cc.attrs.currentStep}" value="#{label}"/>
                            </td>
                        </tr>
                    </ui:repeat>
                </table>
            </div>
            <div class="wizardBody">
                <ui:include src="#{cc.attrs.stepPages[cc.attrs.currentStep]}"/>
            </div>
        </div>
    </cc:implementation>
</html>